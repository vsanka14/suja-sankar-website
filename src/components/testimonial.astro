---
import { TestimonialRoles } from "src/types/home";
import classnames from "classnames";

const ROLE_LABELS = {
  [TestimonialRoles.STUDENT]: "Student",
  [TestimonialRoles.EDUCATOR]: "Education Professional",
  [TestimonialRoles.PARENT]: "Parent",
};

interface Props {
  emoji: string;
  name: string;
  role: TestimonialRoles;
  details?: string;
  content: string;
}

const { emoji, name, role, details, content } = Astro.props;
const roleLabel = ROLE_LABELS[role];
---

<div
  class={classnames(
    "rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",
    {
      "bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":
        role === TestimonialRoles.STUDENT,
      "bg-purple-50 dark:bg-purple-900/30 border border-purple-100 dark:border-purple-800":
        role === TestimonialRoles.EDUCATOR,
      "bg-green-50 dark:bg-green-900/30 border border-green-100 dark:border-green-800":
        role === TestimonialRoles.PARENT,
    }
  )}
>
  <div class="flex items-center mb-4">
    <div class="text-3xl mr-4">{emoji}</div>
    <div>
      <h3 class="font-semibold text-gray-900 dark:text-white">
        {name}
      </h3>
      <p class="text-sm text-gray-500 dark:text-gray-400">
        {roleLabel}
      </p>
      {
        details && (
          <p class="text-sm text-gray-500 dark:text-gray-400">{details}</p>
        )
      }
    </div>
  </div>
  <p class="text-gray-600 dark:text-gray-300 italic">"{content}"</p>
</div>
