<div class="flex items-center">
  <a
    href="/"
    aria-label="Link to home page"
    class="flex items-center group touch-manipulation animate-parent"
    onmouseout="this.classList.add('animate-continue'); setTimeout(() => this.classList.remove('animate-continue'), 500);"
    ontouchend="this.classList.add('animate-continue'); setTimeout(() => this.classList.remove('animate-continue'), 500);"
  >
    <div class="relative w-12 h-12">
      <div
        class="absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg shadow-lg transition-all duration-300 group-hover:from-purple-600 group-hover:to-blue-600 group-hover:scale-105 group-active:from-purple-600 group-active:to-blue-600 group-active:scale-105"
      >
        <div
          class="bubble-container absolute inset-0 opacity-0 group-hover:opacity-100 group-active:opacity-100"
        >
          {
            Array.from({ length: 6 }).map((_, i) => (
              <div class={`bubble bubble-${i + 1}`} />
            ))
          }
        </div>
      </div>
      <div class="absolute inset-0 flex items-center justify-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 80 80"
          class="w-10 h-10 transform transition-transform duration-300 group-hover:scale-110 group-active:scale-110"
        >
          <!-- Main test tube with rounded bottom -->
          <path
            d="M30 15 
                   C30 15, 30 25, 30 25
                   L25 55 
                   C25 70, 55 70, 55 55
                   L50 25
                   C50 25, 50 15, 50 15
                   Z"
            fill="#f0abfc"
            class="potion"
          >
            <animate
              attributeName="d"
              values="
                     M30 15 C30 15, 30 25, 30 25 L25 55 C25 70, 55 70, 55 55 L50 25 C50 25, 50 15, 50 15 Z;
                     M30 15 C30 15, 30 25, 30 25 L27 55 C27 70, 53 70, 53 55 L50 25 C50 25, 50 15, 50 15 Z;
                     M30 15 C30 15, 30 25, 30 25 L25 55 C25 70, 55 70, 55 55 L50 25 C50 25, 50 15, 50 15 Z"
              dur="2s"
              repeatCount="indefinite"
              class="animate-on-hover"></animate>
          </path>

          <!-- Test tube rim -->
          <path
            d="M27 15 L53 15"
            stroke="#f0abfc"
            stroke-width="6"
            stroke-linecap="round"></path>

          <!-- Heart-shaped bubbles with hover animation -->
          <g class="hearts">
            <path
              class="heart1"
              d="M35 35 
                   C35 35, 32 30, 29 30 
                   C26 30, 25 33, 25 35
                   C25 38, 35 45, 35 45
                   C35 45, 45 38, 45 35
                   C45 33, 44 30, 41 30
                   C38 30, 35 35, 35 35"
              fill="#fdf4ff"
            >
              <animate
                attributeName="transform"
                values="translate(0,0);translate(0,-2);translate(0,0)"
                dur="1s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </path>

            <path
              class="heart2"
              d="M40 50
                   C40 50, 37 45, 34 45
                   C31 45, 30 48, 30 50
                   C30 53, 40 60, 40 60
                   C40 60, 50 53, 50 50
                   C50 48, 49 45, 46 45
                   C43 45, 40 50, 40 50"
              fill="#fdf4ff"
              transform="scale(0.7)"
            >
              <animate
                attributeName="transform"
                values="scale(0.7);scale(0.75);scale(0.7)"
                dur="1.5s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </path>
          </g>

          <!-- Sparkles with twinkle animation -->
          <g class="sparkles opacity-0 transition-opacity duration-300">
            <path
              d="M15 30 L20 30 M17.5 27.5 L17.5 32.5"
              stroke="#fdf4ff"
              stroke-width="2"
              stroke-linecap="round"
              class="sparkle"
            >
              <animate
                attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </path>

            <path
              d="M60 35 L65 35 M62.5 32.5 L62.5 37.5"
              stroke="#fdf4ff"
              stroke-width="2"
              stroke-linecap="round"
              class="sparkle"
            >
              <animate
                attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                repeatCount="indefinite"
                begin="0.5s"
                class="animate-on-hover"></animate>
            </path>

            <path
              d="M55 15 L60 15 M57.5 12.5 L57.5 17.5"
              stroke="#fdf4ff"
              stroke-width="2"
              stroke-linecap="round"
              class="sparkle"
            >
              <animate
                attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                repeatCount="indefinite"
                begin="1s"
                class="animate-on-hover"></animate>
            </path>
          </g>

          <!-- Small stars with pulse -->
          <g class="stars opacity-0 transition-opacity duration-300">
            <circle cx="62" cy="55" r="2" fill="#fdf4ff" class="star">
              <animate
                attributeName="r"
                values="2;1.5;2"
                dur="1s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </circle>
            <circle cx="20" cy="45" r="2" fill="#fdf4ff" class="star">
              <animate
                attributeName="r"
                values="2;1.5;2"
                dur="1s"
                repeatCount="indefinite"
                begin="0.5s"
                class="animate-on-hover"></animate>
            </circle>
          </g>

          <!-- Cute face with blink animation -->
          <g class="face">
            <circle cx="35" cy="40" r="2" fill="#86198f" class="eye">
              <animate
                attributeName="ry"
                values="2;0.1;2"
                dur="3s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </circle>
            <circle cx="45" cy="40" r="2" fill="#86198f" class="eye">
              <animate
                attributeName="ry"
                values="2;0.1;2"
                dur="3s"
                repeatCount="indefinite"
                class="animate-on-hover"></animate>
            </circle>
            <path
              d="M36 45 Q40 48 44 45"
              stroke="#86198f"
              stroke-width="2"
              stroke-linecap="round"
              fill="none"
              class="smile"></path>
          </g>
        </svg>
      </div>
    </div>
    <span
      class="hidden md:block ml-3 text-xl font-medium text-gray-900 dark:text-white group-hover:text-blue-600 group-active:text-blue-600 dark:group-hover:text-blue-400 dark:group-active:text-blue-400 transition-colors"
    >
      Suja Sankar
    </span>
  </a>
</div>

<style>
  .bubble-container {
    overflow: hidden;
    border-radius: 0.5rem;
    transition: opacity 0.3s ease;
    opacity: 0;
  }

  .bubble {
    @apply absolute rounded-full bg-white/30;
    width: 10px;
    height: 10px;
    animation: float 2s infinite ease-out;
    animation-play-state: paused;
  }

  .group:hover .bubble-container,
  .group:active .bubble-container,
  .animate-continue .bubble-container {
    opacity: 1;
  }

  .group:hover .bubble,
  .group:active .bubble,
  .animate-continue .bubble {
    animation-play-state: running;
  }

  .group:hover .sparkles,
  .group:hover .stars,
  .group:active .sparkles,
  .group:active .stars,
  .animate-continue .sparkles,
  .animate-continue .stars {
    opacity: 1;
  }

  .bubble-1 {
    left: 10%;
    animation-delay: 0.2s;
  }
  .bubble-2 {
    left: 30%;
    animation-delay: 0.6s;
  }
  .bubble-3 {
    left: 50%;
    animation-delay: 0.1s;
  }
  .bubble-4 {
    left: 70%;
    animation-delay: 0.4s;
  }
  .bubble-5 {
    left: 90%;
    animation-delay: 0.3s;
  }
  .bubble-6 {
    left: 20%;
    animation-delay: 0.5s;
  }

  @keyframes float {
    0% {
      transform: translateY(100%);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100%);
      opacity: 0;
    }
  }

  .potion {
    transform-origin: center;
    transition: transform 0.3s ease;
  }

  :global(.group:hover) .potion,
  :global(.group:active) .potion,
  :global(.animate-continue) .potion {
    transform: scale(1.05);
  }

  .animate-on-hover {
    animation-play-state: paused;
  }

  :global(.group:hover) .animate-on-hover,
  :global(.group:active) .animate-on-hover,
  :global(.animate-continue) .animate-on-hover {
    animation-play-state: running;
  }

  @media (hover: none) {
    .touch-manipulation {
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
  }
</style>
