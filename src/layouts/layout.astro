---
import "../styles/base.css";
import NavItem from "../components/nav-item.astro";
import NavLogo from "../components/nav-logo.astro";
import Footer from "../components/footer.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en" class="dark h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title} | Suja Sankar's Chemistry Lab</title>
  </head>
  <body class="bg-gray-50 dark:bg-gray-900 min-h-full flex flex-col">
    <header class="bg-white dark:bg-gray-800 shadow">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <NavLogo />
          </div>

          {/* Desktop Navigation */}
          <div class="hidden md:flex space-x-8 items-center">
            <NavItem href="/" text="Home" />
            <NavItem href="/about" text="About" />
            <NavItem href="/videos" text="Videos" />
            <NavItem href="/contact" text="Contact" />
          </div>

          {/* Mobile Navigation Button */}
          <div class="md:hidden flex items-center">
            <button
              id="mobile-menu-button"
              type="button"
              class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"
              aria-controls="mobile-menu"
              aria-expanded="false"
            >
              <span class="sr-only">Open main menu</span>
              {/* Hamburger icon */}
              <svg
                class="block h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
          </div>
        </div>

        {/* Mobile Navigation Menu */}
        <div class="hidden md:hidden" id="mobile-menu">
          <div class="px-2 pt-2 pb-3 space-y-1 bg-white dark:bg-gray-800">
            <NavItem href="/" text="Home" isMobile={true} />
            <NavItem href="/about" text="About" isMobile={true} />
            <NavItem href="/videos" text="Videos" isMobile={true} />
            <NavItem href="/contact" text="Contact" isMobile={true} />
          </div>
        </div>
      </nav>
    </header>

    <main class="flex-1 max-w-7xl w-full mx-auto py-6 sm:px-6 lg:px-8">
      <slot />
    </main>

    <Footer />

    <script>
      // Toggle mobile menu
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuButton?.addEventListener("click", () => {
        const isExpanded =
          mobileMenuButton.getAttribute("aria-expanded") === "true";
        mobileMenuButton.setAttribute(
          "aria-expanded",
          (!isExpanded).toString()
        );
        mobileMenu?.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
